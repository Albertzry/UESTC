# **4.时间片轮转调度**

请对照实验指导书实验四，在实验三已完成的代码基础上进行修改，编写C++程序实现操作系统实验课程中的时间片轮转调度算法。在实验三的基础上新增如下要求：
1.本实验中，在TCB中增加了一个字段clock_times，用来计量该线程当前的执行时间。
2.本实验中的调度器新增了一个名为on_clock的函数，该函数用于模拟时钟中断。测试代码将周期性地调用该函数，模拟时钟中断被周期性地触发。该函数每被调用一次，意味着经过了一个单位时间。单位时间由set_time_interval设定。
3.本实验中的调度器新增了set_time_ticks接口，设置每个线程的最长执行时间（即时间片）。当时钟中断到来时，调度器给当前正执行的线程加上相应的时隙后，判断其本次执行时长是否大于时间片，若大于则强制发起切换（调用dispatcher函数）。
本题目需要实现的函数及功能描述如下：
1.实验三中已实现的各函数（请详细对照实验指导书上的要求确认是否要对已有代码进行修改）
2.void on_clock()：模拟的时钟信号函数，每次对该函数的调用相当于模拟时钟中断程序被调用
3.void set_time_ticks(unsigned int ticks)：设置时间片
注意：在提交代码时，请只提交包含如下内容的源文件，不要提交thread_hdr.h以及thread_tester.cpp，否则会导致不通过编译而无法得分。若提交后仅拿到部分分数，请仔细阅读题目要求并确认实现细节特别是边界条件。